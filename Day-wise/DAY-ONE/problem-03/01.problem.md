# 1Ô∏è‚É£ problem.md ‚Äî Problem Definition

> **üîñ Header**
> **Concepts Involved:** Hashing, Sets, Sequence Logic, $O(N)$ Search

---

## üìã Title
**The Streaming Packet Stitcher** *(Classic Logic: Longest Consecutive Sequence)*

### üìñ Problem Story / Context
You are working on the network layer of a video streaming service. Data packets arrive at your server completely out of order due to network jitter. Each packet has a unique integer ID.

To ensure smooth playback buffering, the system needs to know the size of the largest **contiguous block** of data currently available in the buffer. A "contiguous block" means a sequence of packet IDs that follow each other numerically (e.g., 10, 11, 12).

You are given a raw list of packet IDs currently in the buffer. Your task is to calculate the length of the longest sequence of consecutive integers present in that list.

**The catch:** The buffer is massive. You cannot afford to sort the packets, as sorting takes $O(N \log N)$ time, which would cause buffering lag. You must solve this in **Linear Time $O(N)$**.



---

### üì• Inputs
1.  **packets**: An array of integers representing packet IDs.
2.  **Length $N$**: $0 \le N \le 10^5$.
3.  **Values**: Packet IDs can be positive, negative, or zero.
4.  **Order**: The array is **unsorted**.

### üì§ Outputs
* An **integer** representing the length of the longest consecutive sequence found.

### ‚ö†Ô∏è Constraints
* **Time Complexity:** Must be $O(N)$.  
    * *Note: Standard `std::sort` is $O(N \log N)$, which is too slow and technically invalid for this problem's constraint.*
* **Space Complexity:** $O(N)$ is acceptable.

---

### üîç Edge-Case Thinking Prompts
* **Empty Buffer:** What should happen if the input array is empty?
* **Duplicate Packets:** How should the system handle duplicates (e.g., receiving ID 5 twice)? Does it extend the sequence length?
* **Broken Sequences:** What if the sequence is interrupted by just one missing number (e.g., `1, 2, 4, 5`)?
* **Negative IDs:** What if the input contains negative numbers (e.g., `-1, 0, 1`)?

---

### üß™ Sample Inputs & Outputs

**Sample 1**
* **Input:** `[100, 4, 200, 1, 3, 2]`
* **Output:** `4`
* **Explanation:** The longest consecutive sequence is `[1, 2, 3, 4]`. Note that 100 and 200 are ignored as they are isolated.

**Sample 2**
* **Input:** `[0, 3, 7, 2, 5, 8, 4, 6, 0, 1]`
* **Output:** `9`
* **Explanation:** The sequence is `[0, 1, 2, 3, 4, 5, 6, 7, 8]`. Duplicates (`0`) do not increase the sequence length.

---

### üß† Thinking Like a Programmer

* **What must be tracked?**
    * The existence of numbers. We need to instantly know, "Do I have packet #5?" without searching the whole array.
* **What is the defining trait of a sequence start?**
    * A number $x$ is the **start** of a sequence **only if** $x-1$ does **not** exist in the array. If $x-1$ exists, then $x$ is just a middle part of a longer sequence.
* **What brute force would do:**
    1. Sort the array $O(N \log N)$ and walk through it.
    2. Or, for every number $x$, loop through the array looking for $x+1, x+2...$ $O(N^3)$.
    * *Both are rejected by the problem constraints.*
* **The Conflict:**
    * We need **order** (consecutive numbers) without **sorting** (rearranging memory). We must use a data structure that provides order-independent lookups (like a `HashSet`).



---
_End of Problem File_