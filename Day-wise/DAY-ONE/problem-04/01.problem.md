# 1Ô∏è‚É£ problem.md ‚Äî Problem Definition

> **üîñ Header**
> **Concepts Involved:** Prefix Sums, Hashing, Frequency Map, Sliding Window (Conceptual)

---

## üìã Title
**The Power Surge Windows** *(Classic Logic: Subarray Sum Equals K)*

### üìñ Problem Story / Context
You are analyzing data for a smart power grid. The system logs energy flow every minute.

* **Positive integers** represent energy consumption (load).
* **Negative integers** represent energy generation (e.g., solar feedback into the grid).
* **Zero** represents a neutral state.

To detect specific stability patterns, the grid operator needs to know how many **continuous time windows (subarrays)** had a net energy flow of exactly **K** kilowatts. 

Because the logs cover millions of minutes, checking every possible start and end time (Brute Force) would take too long $O(N^2)$. You need a real-time, efficient method to count these windows as you parse the log.



---

### üì• Inputs
1.  **readings**: A vector of integers representing the energy flow log.
2.  **Length $N$**: $1 \le N \le 2 \cdot 10^4$.
3.  **Values**: Range from $-1000$ to $1000$.
4.  **k**: An integer representing the target net flow.

### üì§ Outputs
* An **integer** representing the total count of continuous subarrays whose elements sum up to $k$.

### ‚ö†Ô∏è Constraints
* **Time Complexity:** Must be $O(N)$.
    * *Note: A nested loop solution $O(N^2)$ will time out for large logs.*
* **Space Complexity:** $O(N)$ is acceptable to store history.

---

### üîç Edge-Case Thinking Prompts
* **Target Zero:** What if the target $k$ is 0? Can a sequence of non-zero numbers sum to 0 (e.g., `5, -5`)?
* **All Zeros:** What if the array contains only zeros?
* **Total Sum:** What if the entire array sums to $k$?
* **Negative Target:** What if $k$ is negative?
* **Continuity:** Does the order matter? (Yes, subarrays must be continuous).

---

### üß™ Sample Inputs & Outputs

**Sample 1**
* **Input:** `readings = [1, 1, 1]`, `k = 2`
* **Output:** `2`
* **Explanation:** `[1, 1]` (index 0 to 1) sums to 2; `[1, 1]` (index 1 to 2) sums to 2.

**Sample 2**
* **Input:** `readings = [1, 2, 3]`, `k = 3`
* **Output:** `2`
* **Explanation:** `[1, 2]` sums to 3; `[3]` sums to 3.

**Sample 3 (Negative Values)**
* **Input:** `readings = [1, -1, 0]`, `k = 0`
* **Output:** `3`
* **Explanation:** `[1, -1]`, `[0]`, and `[1, -1, 0]` all sum to 0.

---

### üß† Thinking Like a Programmer

* **What must be tracked?**
    We cannot look ahead. As we walk through the log, we can only know the **Cumulative Sum (Prefix Sum)** from the start up to the current minute.
* **The Mathematical Insight:**
    The sum of a window from $i$ to $j$ is simply $PrefixSum[j] - PrefixSum[i-1]$.
     - P[i-1]]
* **The Invariant:**
    If the current cumulative sum is $S$, and we want to find a window ending right here that sums to $K$, we simply need to ask: *"Have I seen a prefix sum of $S - K$ before?"*
* **What brute force would do:**
    For every minute $i$, loop through all future minutes $j$ to calculate the sum. This repeats work unnecessarily and results in $O(N^2)$.

---
_End of Problem File_